<?php
require_once __DIR__ . '/../config/config.php';

$payrolls = [
    [5, 'IT', 12000.00, 500.00, 200.00, 1000.00, 11300.00, 2025, 10, '2025-10-03', 4, '2025-10-03 14:54:38', '2025-10-03 14:54:38', '2025-10-03 14:54:38'],
    [6, 'HR', 8000.00, 400.00, 300.00, 700.00, 7400.00, 2025, 10, '2025-10-03', 4, '2025-10-03 14:54:38', '2025-10-03 14:54:38', '2025-10-03 14:54:38'],
    [7, 'Sales', 10000.00, 800.00, 400.00, 900.00, 9500.00, 2025, 10, '2025-10-03', 4, '2025-10-03 14:54:38', '2025-10-03 14:54:38', '2025-10-03 14:54:38'],
    [8, 'IT', 6000.00, 300.00, 150.00, 500.00, 5650.00, 2025, 10, '2025-10-03', 4, '2025-10-03 14:54:38', '2025-10-03 14:54:38', '2025-10-03 14:54:38'],
    [5, 'IT', 12000.00, 600.00, 250.00, 1000.00, 11350.00, 2025, 9, '2025-09-30', 4, '2025-09-30 10:00:00', '2025-09-30 10:00:00', '2025-09-30 10:00:00'],
    [6, 'HR', 8000.00, 450.00, 200.00, 700.00, 7550.00, 2025, 9, '2025-09-30', 4, '2025-09-30 10:00:00', '2025-09-30 10:00:00', '2025-09-30 10:00:00'],
    [7, 'Sales', 10000.00, 900.00, 350.00, 900.00, 9650.00, 2025, 9, '2025-09-30', 4, '2025-09-30 10:00:00', '2025-09-30 10:00:00', '2025-09-30 10:00:00'],
    [8, 'IT', 6000.00, 350.00, 120.00, 500.00, 5730.00, 2025, 9, '2025-09-30', 4, '2025-09-30 10:00:00', '2025-09-30 10:00:00', '2025-09-30 10:00:00'],
    [5, 'IT', 12000.00, 700.00, 300.00, 1000.00, 11400.00, 2025, 8, '2025-08-31', 4, '2025-08-31 11:00:00', '2025-08-31 11:00:00', '2025-08-31 11:00:00'],
    [6, 'HR', 8000.00, 500.00, 150.00, 700.00, 7650.00, 2025, 8, '2025-08-31', 4, '2025-08-31 11:00:00', '2025-08-31 11:00:00', '2025-08-31 11:00:00'],
    [7, 'Sales', 10000.00, 1000.00, 300.00, 900.00, 9800.00, 2025, 8, '2025-08-31', 4, '2025-08-31 11:00:00', '2025-08-31 11:00:00', '2025-08-31 11:00:00'],
    [8, 'IT', 6000.00, 400.00, 100.00, 500.00, 5800.00, 2025, 8, '2025-08-31', 4, '2025-08-31 11:00:00', '2025-08-31 11:00:00', '2025-08-31 11:00:00'],
    [5, 'IT', 12000.00, 650.00, 250.00, 1000.00, 11400.00, 2025, 7, '2025-07-31', 4, '2025-07-31 09:30:00', '2025-07-31 09:30:00', '2025-07-31 09:30:00'],
    [6, 'HR', 8000.00, 420.00, 200.00, 700.00, 7520.00, 2025, 7, '2025-07-31', 4, '2025-07-31 09:30:00', '2025-07-31 09:30:00', '2025-07-31 09:30:00'],
    [7, 'Sales', 10000.00, 850.00, 250.00, 900.00, 9700.00, 2025, 7, '2025-07-31', 4, '2025-07-31 09:30:00', '2025-07-31 09:30:00', '2025-07-31 09:30:00'],
    [8, 'IT', 6000.00, 300.00, 120.00, 500.00, 5680.00, 2025, 7, '2025-07-31', 4, '2025-07-31 09:30:00', '2025-07-31 09:30:00', '2025-07-31 09:30:00']
];

$stmt = $mysqli->prepare("
    INSERT INTO payrolls (user_id, department, base_salary, additions, deductions, taxes, net_salary, year, month, last_payment_date, approved_by, approved_at, created_at, updated_at)
    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
");

foreach ($payrolls as $p) {
    [$user_id, $department, $base_salary, $additions, $deductions, $taxes, $net_salary, $year, $month, $last_payment_date, $approved_by, $approved_at, $created_at, $updated_at] = $p;
    $stmt->bind_param("issddddiisssss", $user_id, $department, $base_salary, $additions, $deductions, $taxes, $net_salary, $year, $month, $last_payment_date, $approved_by, $approved_at, $created_at, $updated_at);
    $stmt->execute();
}

$stmt->close();
$mysqli->close();

echo "Payrolls seeded successfully with multiple months.";
