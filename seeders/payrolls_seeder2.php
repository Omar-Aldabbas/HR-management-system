<?php
require_once __DIR__ . '/../config/config.php';

$payrolls = [
    [1, 'IT', 9500.00, 400.00, 250.00, 800.00, 8850.00, 2025, 10, '2025-10-03', 4, '2025-10-03 15:00:00', '2025-10-03 15:00:00', '2025-10-03 15:00:00'],
    [2, 'HR', 7000.00, 300.00, 200.00, 600.00, 6500.00, 2025, 10, '2025-10-03', 4, '2025-10-03 15:00:00', '2025-10-03 15:00:00', '2025-10-03 15:00:00'],
    [3, 'Sales', 8500.00, 500.00, 300.00, 700.00, 8000.00, 2025, 10, '2025-10-03', 4, '2025-10-03 15:00:00', '2025-10-03 15:00:00', '2025-10-03 15:00:00'],
    [1, 'IT', 9500.00, 350.00, 250.00, 800.00, 8800.00, 2025, 9, '2025-09-30', 4, '2025-09-30 09:00:00', '2025-09-30 09:00:00', '2025-09-30 09:00:00'],
    [2, 'HR', 7000.00, 250.00, 150.00, 600.00, 6500.00, 2025, 9, '2025-09-30', 4, '2025-09-30 09:00:00', '2025-09-30 09:00:00', '2025-09-30 09:00:00'],
    [3, 'Sales', 8500.00, 450.00, 300.00, 700.00, 7950.00, 2025, 9, '2025-09-30', 4, '2025-09-30 09:00:00', '2025-09-30 09:00:00', '2025-09-30 09:00:00'],
    [1, 'IT', 9500.00, 300.00, 200.00, 800.00, 8800.00, 2025, 8, '2025-08-31', 4, '2025-08-31 11:00:00', '2025-08-31 11:00:00', '2025-08-31 11:00:00'],
    [2, 'HR', 7000.00, 200.00, 150.00, 600.00, 6450.00, 2025, 8, '2025-08-31', 4, '2025-08-31 11:00:00', '2025-08-31 11:00:00', '2025-08-31 11:00:00'],
    [3, 'Sales', 8500.00, 400.00, 250.00, 700.00, 7950.00, 2025, 8, '2025-08-31', 4, '2025-08-31 11:00:00', '2025-08-31 11:00:00', '2025-08-31 11:00:00'],
    [1, 'IT', 9500.00, 350.00, 200.00, 800.00, 8850.00, 2025, 7, '2025-07-31', 4, '2025-07-31 09:30:00', '2025-07-31 09:30:00', '2025-07-31 09:30:00'],
    [2, 'HR', 7000.00, 250.00, 150.00, 600.00, 6500.00, 2025, 7, '2025-07-31', 4, '2025-07-31 09:30:00', '2025-07-31 09:30:00', '2025-07-31 09:30:00'],
    [3, 'Sales', 8500.00, 450.00, 250.00, 700.00, 8000.00, 2025, 7, '2025-07-31', 4, '2025-07-31 09:30:00', '2025-07-31 09:30:00', '2025-07-31 09:30:00']
];

$stmt = $mysqli->prepare("
    INSERT INTO payrolls (user_id, department, base_salary, additions, deductions, taxes, net_salary, year, month, last_payment_date, approved_by, approved_at, created_at, updated_at)
    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
");

foreach ($payrolls as $p) {
    [$user_id, $department, $base_salary, $additions, $deductions, $taxes, $net_salary, $year, $month, $last_payment_date, $approved_by, $approved_at, $created_at, $updated_at] = $p;
    $stmt->bind_param("issddddiisssss", $user_id, $department, $base_salary, $additions, $deductions, $taxes, $net_salary, $year, $month, $last_payment_date, $approved_by, $approved_at, $created_at, $updated_at);
    $stmt->execute();
}

$stmt->close();
$mysqli->close();

echo "Old employee payrolls seeded successfully.";
